# ==============================================================================
# CAI Intake - Environment Variables
# ==============================================================================
# Copy this file to .env and fill in the values
# 
# Required: DATABASE_URL, NEXT_PUBLIC_SUPABASE_URL, NEXT_PUBLIC_SUPABASE_ANON_KEY
# Optional: AI keys are only needed for AI parsing features
# ==============================================================================

# ------------------------------------------------------------------------------
# Database (Required)
# ------------------------------------------------------------------------------
# PostgreSQL connection string
# Format: postgresql://USER:PASSWORD@HOST:PORT/DATABASE
DATABASE_URL="postgresql://postgres:password@localhost:5432/cai_intake"

# Prisma direct URL (for migrations, can be same as DATABASE_URL)
DIRECT_URL="postgresql://postgres:password@localhost:5432/cai_intake"

# ------------------------------------------------------------------------------
# Supabase (Required)
# ------------------------------------------------------------------------------
# Get these from: https://app.supabase.com/project/_/settings/api

# Your Supabase project URL
NEXT_PUBLIC_SUPABASE_URL="https://your-project-id.supabase.co"

# Supabase anonymous/public key (safe to expose in browser)
NEXT_PUBLIC_SUPABASE_ANON_KEY="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9..."

# Supabase service role key (NEVER expose in browser - server only)
SUPABASE_SERVICE_ROLE_KEY="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9..."

# ------------------------------------------------------------------------------
# Application
# ------------------------------------------------------------------------------
# Base URL for the app (used for callbacks, emails, etc.)
NEXT_PUBLIC_APP_URL="http://localhost:3000"

# Environment: development | staging | production
NODE_ENV="development"

# ------------------------------------------------------------------------------
# AI Providers (Optional - for AI parsing features)
# ------------------------------------------------------------------------------
# OpenAI API Key - Get from: https://platform.openai.com/api-keys
OPENAI_API_KEY="sk-..."

# Anthropic API Key - Get from: https://console.anthropic.com/
ANTHROPIC_API_KEY="sk-ant-..."

# Default AI provider: openai | anthropic
DEFAULT_AI_PROVIDER="openai"

# ------------------------------------------------------------------------------
# CAI 2D Optimizer Integration (Optional)
# ------------------------------------------------------------------------------
# CAI 2D API endpoint
CAI2D_API_URL="https://api.cai2d.com/v1"

# CAI 2D API key
CAI2D_API_KEY=""

# Webhook secret for optimizer callbacks
CAI2D_WEBHOOK_SECRET=""

# ------------------------------------------------------------------------------
# File Storage (Supabase Storage is used by default)
# ------------------------------------------------------------------------------
# Max file upload size in MB
MAX_FILE_SIZE_MB="50"

# Allowed file types (comma-separated)
ALLOWED_FILE_TYPES="pdf,png,jpg,jpeg,webp,csv,xlsx,xls,txt"

# ------------------------------------------------------------------------------
# Authentication
# ------------------------------------------------------------------------------
# Session duration in days
SESSION_DURATION_DAYS="7"

# Enable demo mode (allows demo login without real auth)
NEXT_PUBLIC_DEMO_MODE="true"

# ------------------------------------------------------------------------------
# Email (Optional - for notifications)
# ------------------------------------------------------------------------------
# SMTP host
SMTP_HOST=""

# SMTP port
SMTP_PORT="587"

# SMTP user
SMTP_USER=""

# SMTP password
SMTP_PASSWORD=""

# From email address
EMAIL_FROM="noreply@cai-intake.io"

# ------------------------------------------------------------------------------
# Rate Limiting
# ------------------------------------------------------------------------------
# API rate limit (requests per minute)
RATE_LIMIT_RPM="60"

# Parse job rate limit (per hour)
PARSE_RATE_LIMIT_PH="100"

# ------------------------------------------------------------------------------
# Logging & Monitoring (Optional)
# ------------------------------------------------------------------------------
# Log level: debug | info | warn | error
LOG_LEVEL="info"

# Sentry DSN for error tracking
SENTRY_DSN=""

# ------------------------------------------------------------------------------
# Feature Flags
# ------------------------------------------------------------------------------
# Enable AI parsing mode toggle
NEXT_PUBLIC_ENABLE_AI_PARSING="true"

# Enable voice dictation
NEXT_PUBLIC_ENABLE_VOICE="true"

# Enable OCR scanning
NEXT_PUBLIC_ENABLE_OCR="true"

# Enable QR template system
NEXT_PUBLIC_ENABLE_TEMPLATES="true"
